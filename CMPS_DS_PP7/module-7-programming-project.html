<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>CMPS 260: Module 7 Programming Project</title>
<style>* { font-family: monospace; }</style>
<script>

// NOTE: You must implement the data structures using the prototype approach.
//       This is not what the book uses, so you have to convert it.
//       See also: https://it.pointpark.edu/tutorials/no-prototype-vs-prototype/

// NOTE: Please review the following links regularly:
//       https://it.pointpark.edu/tutorials/arrays-vs-objects/
//       https://it.pointpark.edu/tutorials/no-prototype-vs-prototype/
//       https://it.pointpark.edu/tutorials/implementation-vs-interface/



//---------//
// Project //
//---------//
console.log("Project");

// 1. Implement factorial using a recursive function and test your code.

function factorial(n) {
  return (n === 0 || n === 1) ? 1 : n * factorial(n - 1);
}

console.log(factorial(4));
console.log(factorial(7));


// 2. Implement a function that returns the complete fibonacci sequence in an
//    array for a given number.

function fibonacci(n) {
  if(n === 0) return [ 0 ];

  const seq = [0, 1];
  for (var i = 2; i <= n; i++) {
    seq[i] = seq[i - 1] + seq[i - 2];
  }

  return seq;
}

console.log(fibonacci(0));
console.log(fibonacci(1));
console.log(fibonacci(15));

// 3. Implement finding the longest common subsequence using dynamic
//    programming. Test your code.

// 4. Solve the problem of summing all the numbers in an array using
//    imperative style.

function arraySumImp(arr) {
  var sum = 0;

  for(var i = 0; i < arr.length; i++) {
    sum += arr[i];
  }

  return sum;
}

var testArr = [2, 6, 3, 9, 18, 4, 21];
console.log(arraySumImp(testArr));

// 5. Solve the problem of summing all the numbers in an array using
//    functional style.


function arraySumFunc(arr) {
  return arr.reduce((sum, i) => sum + i, 0);
}

console.log(arraySumFunc(testArr));

// 6. Solve problem 14 of Project Euler: https://projecteuler.net/problem=14
//    Note: This may be a bit challenging. Try to get as far as you can.
//          Instead of one million you could use a smaller number for testing.

function collatz(n) {
  var sequence = [ n ];

  while(sequence[sequence.length - 1] > 1) {
    var current = sequence[sequence.length - 1];

    if(current % 2 === 0) {
      sequence.push(current / 2);
    } else {
      sequence.push((current * 3) + 1);
    }
  }

  return sequence;
}

console.log(collatz(13)); // testing output

//generate all sequences up to n = 1000000
var n = 1000000;
var sequences = [];

for(var i = 0; i < n; i++) {
  sequences[i] = collatz(i);
}

//find sequence with greatest length
var maxLength = 0;
var maxLengthIndex = 0;

for(var i = 0; i < sequences.length; i++) {
  var currentSequence = sequences[i];
  var currentSequenceLength = currentSequence.length;

  if(currentSequenceLength > maxLength) {
    maxLength = currentSequenceLength;
    maxLengthIndex = i;
  }
}

console.log("Longest sequence: n = " + maxLengthIndex + " with length: " + maxLength);

</script>
</head>
<body>
  See console!
</body>
</html>
